// vite.config.ts
import { defineConfig, loadEnv } from "file:///home/project/node_modules/vite/dist/node/index.js";
import react from "file:///home/project/node_modules/@vitejs/plugin-react/dist/index.mjs";
var vite_config_default = defineConfig(({ mode }) => {
  const env = loadEnv(mode, process.cwd(), "");
  return {
    plugins: [react()],
    optimizeDeps: {
      exclude: ["lucide-react"]
    },
    server: {
      port: 5173,
      host: true,
      // Permite acesso externo
      open: false,
      // Não abrir navegador automaticamente
      proxy: {
        "/api": {
          target: env.VITE_GOOGLE_SCRIPT_URL || "https://script.google.com",
          changeOrigin: true,
          secure: true,
          rewrite: (path) => {
            const newPath = path.replace(/^\/api/, "");
            if (!newPath.includes("?") && env.VITE_API_KEY) {
              return newPath + "?key=" + encodeURIComponent(env.VITE_API_KEY);
            }
            if (env.VITE_API_KEY && !newPath.includes("key=")) {
              const separator = newPath.includes("?") ? "&" : "?";
              return newPath + separator + "key=" + encodeURIComponent(env.VITE_API_KEY);
            }
            return newPath;
          },
          configure: (proxy, options) => {
            proxy.on("proxyReq", (proxyReq, req) => {
              console.log(`[PROXY REQ] ${req.method} ${req.url} -> ${proxyReq.path}`);
            });
            proxy.on("proxyRes", (proxyRes, req) => {
              console.log(`[PROXY RES] ${proxyRes.statusCode} ${req.url}`);
            });
            proxy.on("error", (err, req, res) => {
              console.error(`[PROXY ERROR] ${err.message} ${req.url}`);
              if (res.writeHead) {
                res.writeHead(500, { "Content-Type": "application/json" });
                res.end(JSON.stringify({
                  error: "Proxy error",
                  message: err.message,
                  url: req.url
                }));
              }
            });
          }
        },
        // Proxy para Cloudinary (opcional - se quiser esconder o endpoint)
        "/cloudinary": {
          target: "https://api.cloudinary.com/v1_1",
          changeOrigin: true,
          rewrite: (path) => path.replace(/^\/cloudinary/, ""),
          configure: (proxy) => {
            proxy.on("proxyReq", (proxyReq, req) => {
              console.log(`[CLOUDINARY PROXY] ${req.method} ${req.url}`);
            });
          }
        }
      }
    },
    // Configurações de build
    build: {
      outDir: "dist",
      sourcemap: mode !== "production",
      rollupOptions: {
        output: {
          manualChunks: {
            "react-vendor": ["react", "react-dom", "react-router-dom"],
            "ui-vendor": ["lucide-react"]
          }
        }
      }
    },
    // Configurações de preview (produção local)
    preview: {
      port: 5173,
      host: true,
      proxy: {
        "/api": {
          target: env.VITE_GOOGLE_SCRIPT_URL || "https://script.google.com",
          changeOrigin: true,
          secure: true,
          rewrite: (path) => {
            const newPath = path.replace(/^\/api/, "");
            if (env.VITE_API_KEY && !newPath.includes("key=")) {
              const separator = newPath.includes("?") ? "&" : "?";
              return newPath + separator + "key=" + encodeURIComponent(env.VITE_API_KEY);
            }
            return newPath;
          }
        }
      }
    },
    // Define variáveis de ambiente para o código do cliente
    define: {
      __APP_ENV__: JSON.stringify(env.APP_ENV || mode)
    }
  };
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvaG9tZS9wcm9qZWN0XCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCIvaG9tZS9wcm9qZWN0L3ZpdGUuY29uZmlnLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9ob21lL3Byb2plY3Qvdml0ZS5jb25maWcudHNcIjtpbXBvcnQgeyBkZWZpbmVDb25maWcsIGxvYWRFbnYgfSBmcm9tICd2aXRlJztcbmltcG9ydCByZWFjdCBmcm9tICdAdml0ZWpzL3BsdWdpbi1yZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZygoeyBtb2RlIH0pID0+IHtcbiAgLy8gQ2FycmVnYSB2YXJpXHUwMEUxdmVpcyBkZSBhbWJpZW50ZSBkbyAuZW52XG4gIGNvbnN0IGVudiA9IGxvYWRFbnYobW9kZSwgcHJvY2Vzcy5jd2QoKSwgJycpO1xuXG4gIHJldHVybiB7XG4gICAgcGx1Z2luczogW3JlYWN0KCldLFxuICAgIG9wdGltaXplRGVwczoge1xuICAgICAgZXhjbHVkZTogWydsdWNpZGUtcmVhY3QnXSxcbiAgICB9LFxuXG4gICAgc2VydmVyOiB7XG4gICAgICBwb3J0OiA1MTczLFxuICAgICAgaG9zdDogdHJ1ZSwgLy8gUGVybWl0ZSBhY2Vzc28gZXh0ZXJub1xuICAgICAgb3BlbjogZmFsc2UsIC8vIE5cdTAwRTNvIGFicmlyIG5hdmVnYWRvciBhdXRvbWF0aWNhbWVudGVcbiAgICAgIFxuICAgICAgcHJveHk6IHtcbiAgICAgICAgJy9hcGknOiB7XG4gICAgICAgICAgdGFyZ2V0OiBlbnYuVklURV9HT09HTEVfU0NSSVBUX1VSTCB8fCAnaHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbScsXG4gICAgICAgICAgY2hhbmdlT3JpZ2luOiB0cnVlLFxuICAgICAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgICAgICByZXdyaXRlOiAocGF0aCkgPT4ge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIC9hcGkgZG8gaW5cdTAwRURjaW8gZSBtYW50XHUwMEU5bSBvIHJlc3RvXG4gICAgICAgICAgICBjb25zdCBuZXdQYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwvYXBpLywgJycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZSBuXHUwMEUzbyB0ZW0gcGFyXHUwMEUybWV0cm9zLCBhZGljaW9uYSBhIGNoYXZlXG4gICAgICAgICAgICBpZiAoIW5ld1BhdGguaW5jbHVkZXMoJz8nKSAmJiBlbnYuVklURV9BUElfS0VZKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXdQYXRoICsgJz9rZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChlbnYuVklURV9BUElfS0VZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2Ugalx1MDBFMSB0ZW0gcGFyXHUwMEUybWV0cm9zLCBhZGljaW9uYSBhIGNoYXZlIGFvIGZpbmFsXG4gICAgICAgICAgICBpZiAoZW52LlZJVEVfQVBJX0tFWSAmJiAhbmV3UGF0aC5pbmNsdWRlcygna2V5PScpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IG5ld1BhdGguaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/JztcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld1BhdGggKyBzZXBhcmF0b3IgKyAna2V5PScgKyBlbmNvZGVVUklDb21wb25lbnQoZW52LlZJVEVfQVBJX0tFWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBuZXdQYXRoO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29uZmlndXJlOiAocHJveHksIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIHByb3h5Lm9uKCdwcm94eVJlcScsIChwcm94eVJlcSwgcmVxKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUFJPWFkgUkVRXSAke3JlcS5tZXRob2R9ICR7cmVxLnVybH0gLT4gJHtwcm94eVJlcS5wYXRofWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb3h5Lm9uKCdwcm94eVJlcycsIChwcm94eVJlcywgcmVxKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUFJPWFkgUkVTXSAke3Byb3h5UmVzLnN0YXR1c0NvZGV9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm94eS5vbignZXJyb3InLCAoZXJyLCByZXEsIHJlcykgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbUFJPWFkgRVJST1JdICR7ZXJyLm1lc3NhZ2V9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlc3Bvc3RhIGRlIGZhbGxiYWNrIHBhcmEgZXZpdGFyIGVycm9zIG5vIGZyb250ZW5kXG4gICAgICAgICAgICAgIGlmIChyZXMud3JpdGVIZWFkKSB7XG4gICAgICAgICAgICAgICAgcmVzLndyaXRlSGVhZCg1MDAsIHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICAgICAgICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgIGVycm9yOiAnUHJveHkgZXJyb3InLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICB1cmw6IHJlcS51cmxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8vIFByb3h5IHBhcmEgQ2xvdWRpbmFyeSAob3BjaW9uYWwgLSBzZSBxdWlzZXIgZXNjb25kZXIgbyBlbmRwb2ludClcbiAgICAgICAgJy9jbG91ZGluYXJ5Jzoge1xuICAgICAgICAgIHRhcmdldDogJ2h0dHBzOi8vYXBpLmNsb3VkaW5hcnkuY29tL3YxXzEnLFxuICAgICAgICAgIGNoYW5nZU9yaWdpbjogdHJ1ZSxcbiAgICAgICAgICByZXdyaXRlOiAocGF0aCkgPT4gcGF0aC5yZXBsYWNlKC9eXFwvY2xvdWRpbmFyeS8sICcnKSxcbiAgICAgICAgICBjb25maWd1cmU6IChwcm94eSkgPT4ge1xuICAgICAgICAgICAgcHJveHkub24oJ3Byb3h5UmVxJywgKHByb3h5UmVxLCByZXEpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtDTE9VRElOQVJZIFBST1hZXSAke3JlcS5tZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBDb25maWd1cmFcdTAwRTdcdTAwRjVlcyBkZSBidWlsZFxuICAgIGJ1aWxkOiB7XG4gICAgICBvdXREaXI6ICdkaXN0JyxcbiAgICAgIHNvdXJjZW1hcDogbW9kZSAhPT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgcm9sbHVwT3B0aW9uczoge1xuICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICBtYW51YWxDaHVua3M6IHtcbiAgICAgICAgICAgICdyZWFjdC12ZW5kb3InOiBbJ3JlYWN0JywgJ3JlYWN0LWRvbScsICdyZWFjdC1yb3V0ZXItZG9tJ10sXG4gICAgICAgICAgICAndWktdmVuZG9yJzogWydsdWNpZGUtcmVhY3QnXSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gQ29uZmlndXJhXHUwMEU3XHUwMEY1ZXMgZGUgcHJldmlldyAocHJvZHVcdTAwRTdcdTAwRTNvIGxvY2FsKVxuICAgIHByZXZpZXc6IHtcbiAgICAgIHBvcnQ6IDUxNzMsXG4gICAgICBob3N0OiB0cnVlLFxuICAgICAgcHJveHk6IHtcbiAgICAgICAgJy9hcGknOiB7XG4gICAgICAgICAgdGFyZ2V0OiBlbnYuVklURV9HT09HTEVfU0NSSVBUX1VSTCB8fCAnaHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbScsXG4gICAgICAgICAgY2hhbmdlT3JpZ2luOiB0cnVlLFxuICAgICAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgICAgICByZXdyaXRlOiAocGF0aCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcL2FwaS8sICcnKTtcbiAgICAgICAgICAgIGlmIChlbnYuVklURV9BUElfS0VZICYmICFuZXdQYXRoLmluY2x1ZGVzKCdrZXk9JykpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gbmV3UGF0aC5pbmNsdWRlcygnPycpID8gJyYnIDogJz8nO1xuICAgICAgICAgICAgICByZXR1cm4gbmV3UGF0aCArIHNlcGFyYXRvciArICdrZXk9JyArIGVuY29kZVVSSUNvbXBvbmVudChlbnYuVklURV9BUElfS0VZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdQYXRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBEZWZpbmUgdmFyaVx1MDBFMXZlaXMgZGUgYW1iaWVudGUgcGFyYSBvIGNcdTAwRjNkaWdvIGRvIGNsaWVudGVcbiAgICBkZWZpbmU6IHtcbiAgICAgIF9fQVBQX0VOVl9fOiBKU09OLnN0cmluZ2lmeShlbnYuQVBQX0VOViB8fCBtb2RlKSxcbiAgICB9XG4gIH07XG59KTsiXSwKICAibWFwcGluZ3MiOiAiO0FBQXlOLFNBQVMsY0FBYyxlQUFlO0FBQy9QLE9BQU8sV0FBVztBQUVsQixJQUFPLHNCQUFRLGFBQWEsQ0FBQyxFQUFFLEtBQUssTUFBTTtBQUV4QyxRQUFNLE1BQU0sUUFBUSxNQUFNLFFBQVEsSUFB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
